<<<<<<< HEAD
{:akvo.lumen.component.hikaricp/hikaricp {:uri "jdbc:postgresql://postgres/lumen?user=lumen&password=password&ssl=true"}

 :akvo.lumen.component.http/http {:port 3000}
 :dev.endpoints.transit/middleware {}
 :dev.endpoints/spec {}
 :dev.endpoints/spec-api {:path "/spec"
                          :middleware [#ig/ref :dev.endpoints.transit/middleware]
                          :routes [#ig/ref :dev.endpoints/spec]}

 :akvo.lumen.component.handler/handler {:endpoints [["/local-development" [#ig/ref :akvo.lumen.utils.local-server/endpoint]]
                                                    #ig/ref :dev.endpoints/spec-api]}

 :akvo.lumen.migrate/migrate {:seed
                              ^:replace {:tenants
                                         [{:db_uri "jdbc:postgresql://postgres/lumen_tenant_1?user=lumen&password=password&ssl=true"
                                           :label "t1"
                                           :title "Tenant 1"
                                           :plan "standard"}
                                          {:db_uri "jdbc:postgresql://postgres/lumen_tenant_2?user=lumen&password=password&ssl=true"
                                           :label "t2"
                                           :title "Tenant 2"
                                           :plan "pro"}]}}}
=======
{:duct.core/environment                                 :development
 :duct.core/include                                     ["akvo/lumen/config.edn"]
 :akvo.lumen.component.error-tracker/local              {}
 :akvo.lumen.component.emailer/dev-emailer              {:config #ig/ref :akvo.lumen.config}
 :akvo.lumen.middleware.ring.stacktrace/wrap-stacktrace {}
 :akvo.lumen.component.caddisfly/local                  {:config #ig/ref :akvo.lumen.config}
 :akvo.lumen.local-server/endpoint                      {}
 :akvo.lumen.component.handler/handler                  {:endpoints [#ig/ref :akvo.lumen.local-server/endpoint]}

 :akvo.lumen.config
 {:app
  {:middleware
   {:functions {:stacktrace #ig/ref :akvo.lumen.middleware.ring.stacktrace/wrap-stacktrace}
    :applied   ^:replace [:not-found :json-response :ring-defaults :json-body
                          :wrap-auth :wrap-jwt :wrap-label-tenant :stacktrace]
    :arguments {:wrap-jwt {:keycloak-url   "http://auth.lumen.local:8080/auth"
                           :keycloak-realm "akvo"}}}}
  :db {:uri "jdbc:postgresql://postgres/lumen?user=lumen&password=password&ssl=true"}
  :caddisfly {:local-schema-uri "./caddisfly/tests-schema.json"}
  :http {:port 3000}
  :config {:encryption-key "secret"
           :file-upload-path "/tmp/akvo/lumen"
           :keycloak-realm "akvo"
           :keycloak-url "http://auth.lumen.local:8080/auth"
           :keycloak-public-client-id "akvo-lumen"
           :flow-api-url "https://api.akvotest.org/flow"
           :invite-redirect {:client-port 3030
                             :scheme :http}
           :sentry-backend-dsn ""
           :sentry-client-dsn ""
           :windshaft-url "http://windshaft:4000"
           :exporter-api-url "http://exporter:3001"
           :piwik-site-id "165"}
  :emailer {:from-email "devops@akvo.localhost"
            :from-name "Akvo Lumen"}
  :error-tracker {:dsn ""}
  :keycloak      {:url   "http://auth.lumen.local:8080/auth"
                  :realm "akvo"
                  :credentials
                  {"client_id"     "akvo-lumen-confidential"
                   "client_secret" "caed3964-09dd-4752-b0bb-22c8e8ffd631"}}}
 }
>>>>>>> 8c6274190c1dc6d04ce3c6c63bcb8285caaf4c80
